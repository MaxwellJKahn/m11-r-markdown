---
output: html_document
---


```{r, echo=FALSE, message=FALSE}

movie <- "The Hunger Games"
### Exercise 1 ###

library(jsonlite)
library(dplyr)

# Store a variable "movie"

# Write a function that allows you to specify a movie, then does the following:
GetReview <- function(movie) {
 movie.no.spaces <- gsub(" ","+", movie)
 base <- "https://api.nytimes.com/svc/movies/v2/reviews/search.json?"
 query <- paste0(base, "query=", movie.no.spaces, "&api-key=f9df295994fd488fbf387b75ed16ae29")
 data <- as.data.frame(fromJSON(query))
 data <- flatten(data)
 movie.title <- data$results.display_title[1]
 movie.headline <- data$results.headline[1]
 movie.short.summary <- data$results.summary_short[1]
 movie.url.to.article <- data$results.link.url[1]
 info <- list(title = movie.title, headline = movie.headline, summary = movie.short.summary, url = movie.url.to.article)
 return(info)
 
 }

# Create a variable called `movie.info` by passing your movie to your GetReview function
movie.info <- GetReview(movie)
```

#`r movie.info$title`

###`r movie.info$headline`

Below is a summary about `r movie` from the New York Times API:

>`r movie.info$summary`

Follow [this link](`r movie.info$url`) to read the full review.
